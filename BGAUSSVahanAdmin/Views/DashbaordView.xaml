<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BGAUSSVahanAdmin.Views.DashboardView"
             BackgroundColor="#E9EEF5">

    <Grid>

        <!-- MAIN CONTENT -->
        <ScrollView>

            <VerticalStackLayout Padding="20,30"
                                 Spacing="25">

                <!-- HEADER -->
                <Grid ColumnDefinitions="Auto,*">

                    <Button Text="☰"
                            FontSize="22"
                            BackgroundColor="Transparent"
                            Clicked="OnToggleSidebar"/>

                    <VerticalStackLayout Grid.Column="1">

                        <Label Text="Admin Dashboard"
                               FontSize="26"
                               FontAttributes="Bold"
                               TextColor="#1F2937"/>

                        <Label Text="Manage users, roles, and system access"
                               FontSize="14"
                               TextColor="#6B7280"/>

                    </VerticalStackLayout>

                </Grid>

                <!-- STAT CARDS -->
                <Grid ColumnSpacing="15"
                      RowSpacing="15"
                      ColumnDefinitions="*,*"
                      RowDefinitions="Auto,Auto">

                    <!-- Card Template -->
                    <Border BackgroundColor="White" Padding="18">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="16"/>
                        </Border.StrokeShape>

                        <VerticalStackLayout>
                            <Label Text="Total Users"
                                   FontSize="14"
                                   TextColor="#6B7280"/>
                            <Label Text="32"
                                   FontSize="28"
                                   FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Column="1"
                            BackgroundColor="White"
                            Padding="18">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="16"/>
                        </Border.StrokeShape>

                        <VerticalStackLayout>
                            <Label Text="Active Users"
                                   FontSize="14"
                                   TextColor="#6B7280"/>
                            <Label Text="32"
                                   FontSize="28"
                                   FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Row="1"
                            BackgroundColor="White"
                            Padding="18">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="16"/>
                        </Border.StrokeShape>

                        <VerticalStackLayout>
                            <Label Text="Admin Users"
                                   FontSize="14"
                                   TextColor="#6B7280"/>
                            <Label Text="3"
                                   FontSize="28"
                                   FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>

                    <Border Grid.Row="1"
                            Grid.Column="1"
                            BackgroundColor="White"
                            Padding="18">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="16"/>
                        </Border.StrokeShape>

                        <VerticalStackLayout>
                            <Label Text="Region Users"
                                   FontSize="14"
                                   TextColor="#6B7280"/>
                            <Label Text="29"
                                   FontSize="28"
                                   FontAttributes="Bold"/>
                        </VerticalStackLayout>
                    </Border>
                    
                </Grid>
                <!-- USER MANAGEMENT -->
                <Frame BackgroundColor="White"
                       CornerRadius="18"
                       Padding="20">

                    <VerticalStackLayout Spacing="15">

                        <Label Text="User Management"
                               FontSize="20"
                               FontAttributes="Bold"/>

                        <Label Text="Create, edit, and manage user accounts and their access permissions."
                               FontSize="14"
                               TextColor="#6B7280"/>

                    </VerticalStackLayout>

                </Frame>

                <!-- ACCESS CONTROL -->
                <Frame BackgroundColor="White"
                       CornerRadius="18"
                       Padding="20">

                    <VerticalStackLayout Spacing="12">

                        <Label Text="Access Control"
                               FontSize="20"
                               FontAttributes="Bold"/>

                        <Label Text="• All India Data Access"/>
                        <Label Text="• North Region Access"/>
                        <Label Text="• South Region Access"/>
                        <Label Text="• East Region Access"/>
                        <Label Text="• West Region Access"/>

                    </VerticalStackLayout>

                </Frame>
            </VerticalStackLayout>

        </ScrollView>

        <!-- OVERLAY -->
        <BoxView x:Name="Overlay"
                 BackgroundColor="#80000000"
                 IsVisible="False">
            <BoxView.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnToggleSidebar"/>
            </BoxView.GestureRecognizers>
        </BoxView>

        <!-- SIDEBAR -->
        <Grid x:Name="Sidebar"
              BackgroundColor="#1F2937"
              WidthRequest="260"
              HorizontalOptions="Start"
              IsVisible="False">

            <VerticalStackLayout Padding="25,60"
                                 Spacing="25">

                <Label Text="BGAUSS Admin"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="White"/>

                <Label Text="Dashboard" TextColor="White"/>
                <Label Text="Manage Users" TextColor="White"/>
                <Label Text="Access Control" TextColor="White"/>

                <BoxView HeightRequest="1"
                         BackgroundColor="#374151"/>

                <Label Text="Logout"
                       TextColor="Red">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLogoutClicked"/>
                    </Label.GestureRecognizers>
                </Label>

            </VerticalStackLayout>

        </Grid>

    </Grid>

</ContentPage>
